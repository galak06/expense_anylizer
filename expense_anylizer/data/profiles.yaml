version: 1
profiles:
  - id: visa_adi_v1
    match:
      filename_regex: "(?i)adi"
      sheet_regex: "(?i)עסקאות במועד החיוב"
      header_contains: ["תאריך עסקה", "שם בית העסק", "סכום חיוב"]
    columns:
      date: ["תאריך עסקה", "תאריך", "מועד"]
      description: ["שם בית העסק", "תיאור", "פרטים"]
      amount: ["סכום חיוב", "סכום", "חיוב"]
    amount_rules:
      sign_logic: all_negative  # Credit card - all transactions are expenses
      parentheses_to_negative: true
    transforms:
      strip_currency: ["₪", ","]
      unicode_minus: true
    header_row: 3
    data_start_row: 4

  - id: visa_gil_v1
    match:
      filename_regex: "(?i)6656|gil|ויזה|פירוט חיובים"
      sheet_regex: "(?i)לאומי|leumi"
      header_contains: ["תאריך", "שם בית", "סכום"]
    columns:
      date: ["תאריך עסקה", "תאריך\nעסקה", "תאריך"]
      description: ["שם בית עסק", "שם בית העסק", "שם בית"]
      amount: ["סכום חיוב", "סכום\nחיוב", "סכום"]
    amount_rules:
      sign_logic: all_negative  # Credit card - all transactions are expenses
      parentheses_to_negative: true
    transforms:
      strip_currency: ["₪", ","]
      unicode_minus: true
    header_row: 4
    data_start_row: 5

  - id: isracard_v1
    match:
      filename_regex: "(?i)isracard|ישראכרט|max"
      header_contains: ["תאריך", "סכום"]
    columns:
      date: ["תאריך חיוב", "תאריך עסקה", "תאריך"]
      description: ["שם בית העסק", "תיאור", "פרטים"]
      amount: ["סכום חיוב", "סכום עסקה", "סכום"]

  - id: generic_csv
    match:
      filename_regex: "(?i)generic|unknown"
    columns:
      date: ["date", "transaction date", "תאריך"]
      description: ["description", "details", "תיאור", "פרטים"]
      amount: ["amount", "sum", "סכום", "חיוב", "זכות"]
